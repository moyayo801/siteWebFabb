<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="assets/images/logo3.png">
    <title>Gestion F.A.B.B</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
   
    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-574-mexant.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css">

  </head>

<body>


  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <nav class="main-nav">
                      <!-- ***** Logo Start ***** -->
                      <a href="index.html" class="logo">
                          <img src="assets/images/logo3.png" alt="">
                      </a>
                      <!-- ***** Logo End ***** -->
                      <!-- ***** Menu Start ***** -->
                      <ul class="nav">
                          <li class="scroll-to-section"><a href="#top" class="active">F.A.B.B</a></li>
                           <li><a href="contact-us.html">Contacts</a></li> 
                      </ul>        
                      <a class='menu-trigger'>
                          <span>Menu</span>
                      </a>
                      <!-- ***** Menu End ***** -->
                  </nav>
              </div>
          </div>
      </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <!-- ***** Main Banner Area Start ***** -->
  <div class="swiper-container" id="top">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <div class="slide-inner" style="background-image:url(assets/images/backk.png)">
          <div class="container">
            <div class="row">
              <div class="col-lg-8">
                <div class="header-text">
                  <h2>Fédération <em>Algérienne</em> de Basket-Ball</h2>
                  <div class="div-dec"></div>
                  <div class="row" id="calculate">
                    <div class="col-lg-6">
                      <fieldset>
                        <label>Nom d'utilisateur</label>
                        <input type="text" placeholder="Username" id="userinp">
                      </fieldset>
                    </div>
                    <div class="col-lg-6">
                      <fieldset>
                        <label >Mot de passe</label>
                        <input type="password" placeholder="Password" id="passinp">
                      </fieldset>
                    </div>
                    </div>
   <!--                  <div class="custom-control custom-switch">
                      <input type="checkbox" class="custom-control-input" id="customSwitch1" checked>
                      <label class="custom-control-label" for="customSwitch1">Toggle this switch element</label>
                    </div> -->
                <div>        
                    <div class="toggle-button-cover">
                      <label  for="customSwitch1">Rester connecté</label>      
                        <div class="button r" id="button-1">
                          
                          <input type="checkbox" class="checkbox" id="customSwitch1">
                          <div class="knobs"> </div>
                          <div class="layer"></div>
                        </div>
                    </div>
                  </div>
    
                  <div class="buttons">
                    <div >
                    <div class="green-button"> <button type="text" id="sub_btn">Se connecter</button></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="swiper-slide">
        <div class="slide-inner" style="background-image:url(assets/images/backkk.png)">
          <div class="container">
            <div class="row">
              <div class="col-lg-8">
                <div class="header-text">
                  <h2><em>Contacts & </em>Détails</h2>
                  <div class="div-dec"></div>
                <p>Location: Fédération Algérienne de Basket-Ball
                  : Zouaoua ,Rue Abdelkrim Hamza
                  16047 Alger
                  B.P. 133, DELY IBRAHIM </p>
                  <p>E-mail : <a href="mailto: algeriafederation@gmail.com">	algeriafederation@gmail.com</a><br>
                  FAX : +213 23 29 51 72 <br>
                  Tél : +213 23 29 51 72 / +213 23 29 51 60
                  </p>

        
                    
                   
                 
                  <div class="buttons">
                    <div class="green-button">
                  
                    </div>
                    <div class="orange-button">
                      <a href="mailto: algeriafederation@gmail.com">Contactez-nous</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
 <!--      <div class="swiper-slide">
        <div class="slide-inner" style="background-image:url(assets/images/slide-03.jpg)">
          <div class="container">
            <div class="row">
              <div class="col-lg-8">
                <div class="header-text">
                  <h2>Best One in Town<br>&amp; Crypto <em>Services</em></h2>
                  <div class="div-dec"></div>
                  <p>When you browse through different tags on TemplateMo website, you can see a variety of CSS templates which are responsive website designs for different individual needs. Please tell your friends about our website. Thank you.</p>
                  <div class="buttons">
                    <div class="green-button">
                      <a href="#">Discover More</a>
                    </div>
                    <div class="orange-button">
                      <a href="#">Contact Us</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div> -->
    </div>
    <div class="swiper-button-next swiper-button-white"></div>
    <div class="swiper-button-prev swiper-button-white"></div>
  </div>

  <!-- ***** Main Banner Area End ***** -->


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
  
    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/wow.js"></script>
    <script src="assets/js/tabs.js"></script>
     <script src="assets/js/swiper.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <script>
        var interleaveOffset = 0.5;

      var swiperOptions = {
        loop: true,
        speed: 1000,
        grabCursor: true,
        watchSlidesProgress: true,
        mousewheelControl: true,
        keyboardControl: true,
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev"
        },
        on: {
          progress: function() {
            var swiper = this;
            for (var i = 0; i < swiper.slides.length; i++) {
              var slideProgress = swiper.slides[i].progress;
              var innerOffset = swiper.width * interleaveOffset;
              var innerTranslate = slideProgress * innerOffset;
              swiper.slides[i].querySelector(".slide-inner").style.transform =
                "translate3d(" + innerTranslate + "px, 0, 0)";
            }      
          },
          touchStart: function() {
            var swiper = this;
            for (var i = 0; i < swiper.slides.length; i++) {
              swiper.slides[i].style.transition = "";
            }
          },
          setTransition: function(speed) {
            var swiper = this;
            for (var i = 0; i < swiper.slides.length; i++) {
              swiper.slides[i].style.transition = speed + "ms";
              swiper.slides[i].querySelector(".slide-inner").style.transition =
                speed + "ms";
            }
          }
        }
      };

      var swiper = new Swiper(".swiper-container", swiperOptions);
    </script>


  <script type="module">
	//-------------------------------------------------//
	import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
	 import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-analytics.js";
	
	 const firebaseConfig = {
	   apiKey: "AIzaSyAVpkaI_1x5d4ItI4kaiN2xOxPmXH_wjnE",
	   authDomain: "yatosama-demo.firebaseapp.com",
	   databaseURL: "https://yatosama-demo-default-rtdb.europe-west1.firebasedatabase.app",
	   projectId: "yatosama-demo",
	   storageBucket: "yatosama-demo.appspot.com",
	   messagingSenderId: "440036821979",
	   appId: "1:440036821979:web:0436e491278d04d78375fe",
	   measurementId: "G-4XHSQ4HZXZ"
	 };
	
	 // Initialize Firebase
	 const app = initializeApp(firebaseConfig);
	 const analytics = getAnalytics(app);
	 
	
	 import{
		 getFirestore, doc, onSnapshot, getDoc, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField, query, where , getDocs,
	 }
	 from "https://www.gstatic.com/firebasejs/9.6.8/firebase-firestore.js";
	 import { getDatabase, ref, set, child , get} 
	 
	 from "https://www.gstatic.com/firebasejs/9.6.8/firebase-database.js";
	const db = getDatabase();
	//------------------------------------------------------------//
	
	const user = document.getElementById('userinp');
	const pass = document.getElementById('passinp');
	const submit = document.getElementById('sub_btn');
	//-------------------------------------------------------------//

	 function AuthenticateUser() {
		 const dbref = ref(db);
    
		 get(child(dbref, "UserList/"+ user.value)).then((snapshot)=>{
			if (snapshot.exists()) {
console.log('kayan')
			    let dbpass = decPass(snapshot.val().password);
			   if (dbpass == pass.value) {
				   login(snapshot.val());
        
				    
			   }else{
				   alert("not exist")
			   }
				
			}else{
				   alert("invalid")
				} 
			}); }
         
	 
	//------------------------------------------------//
	function decPass(dbpass){
		var pass12 = CryptoJS.AES.decrypt(dbpass, pass.value);
		return pass12.toString(CryptoJS.enc.Utf8);
		
	}
	//------------------------------/
	function login(user) {
		let keepLoggedIn = document.getElementById('customSwitch1').checked;
	
		if (!keepLoggedIn){
			sessionStorage.setItem('user', JSON.stringify(user));
			window.location="tables.html";
			
		}else{
			localStorage.setItem('keepLoggedIn', 'yes');
			localStorage.setItem('user', JSON.stringify(user));
			window.location="tables.html";
		}
		
	}
	function hey(){
    console.log("hey")
  }
	
	
	//----------------------------------------------//
	
	submit.addEventListener('click', AuthenticateUser);
	
	
	
	
	
	
	
	</script>
  </body>
</html>