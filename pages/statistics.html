
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/images/logo3.png">
  <title>
    Gestion F.A.B.B - Statistiques
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Nucleo Icons -->
  <link href="../assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link href="../assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link id="pagestyle" href="../assets/css/soft-ui-dashboard.css?v=1.0.5" rel="stylesheet" />
  <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-core.min.js"></script>
  <script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-pie.min.js"></script>
</head>

<body class="g-sidenav-show  bg-gray-100">
  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
    <!-- Navbar -->
    <!-- End Navbar -->
    <div class="container-fluid py-4">
      <div class="row">
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <div class="card">
            <div class="card-body p-3">
              <div class="row">
                <div class="col-8">
                  <div class="numbers">
                    <p class="text-sm mb-0 font-weight-bold">Nombre de matchs</p>
                    <h5 class="font-weight-bolder mb-0" id="matchs">
                      
                      </h5>
                  </div>
                </div>
                <div class="col-4 text-end">
                  <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                    <i class="ni ni-money-coins text-lg opacity-10" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <div class="card">
            <div class="card-body p-3">
              <div class="row">
                <div class="col-8">
                  <div class="numbers">
                    <p class="text-sm mb-0 font-weight-bold">Nombre de matchs terminés</p>
                    <h5 class="font-weight-bolder mb-0" id="matcht">
                      
                      </h5>
                  </div>
                </div>
                <div class="col-4 text-end">
                  <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                    <i class="ni ni-world text-lg opacity-10" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
          <div class="card">
            <div class="card-body p-3">
              <div class="row">
                <div class="col-8">
                  <div class="numbers">
                    <p class="text-sm mb-0 font-weight-bold">Nombre de matchs programmés</p>
                    <h5 class="font-weight-bolder mb-0" id="matchp">
                      
                    </h5>
                  </div>
                </div>
                <div class="col-4 text-end">
                  <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                    <i class="ni ni-paper-diploma text-lg opacity-10" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6">
          <div class="card">
            <div class="card-body p-3">
              <div class="row">
                <div class="col-8">
                  <div class="numbers">
                    <p class="text-sm mb-0 font-weight-bold">Nombre de matchs programmés aujourd'hui</p>
                    <h5 class="font-weight-bolder mb-0" id="matchpa">
                    
                 
                    </h5>
                  </div>
                </div>
                <div class="col-4 text-end">
                  <div class="icon icon-shape bg-gradient-primary shadow text-center border-radius-md">
                    <i class="ni ni-cart text-lg opacity-10" aria-hidden="true"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
     
      <div class="row mt-4">
        <div class="col-lg-6 mb-lg-0 mb-4">
          <div class="card z-index-2">
            <div class="card-body p-3">

              <h6 class="ms-2 mt-4 mb-0">Informations globales</h6>
              <div class="container border-radius-lg">
                <div class="row">
                  <div class="col-4 py-3 ps-0">
                    <div class="d-flex mb-2">
                      <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-primary text-center me-2 d-flex align-items-center justify-content-center">
                       
                      </div>
                      <p class="text-xs mt-1 mb-0 font-weight-bold">Équipes</p>
                    </div>
                    <h4 class="font-weight-bolder" id="utili"></h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-60" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="col-4 py-3 ps-0">
                    <div class="d-flex mb-2">
                      <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-info text-center me-2 d-flex align-items-center justify-content-center">
                        <svg width="10px" height="10px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <title>spaceship</title>
                          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-1720.000000, -592.000000)" fill="#FFFFFF" fill-rule="nonzero">
                              <g transform="translate(1716.000000, 291.000000)">
                                <g transform="translate(4.000000, 301.000000)">
                                  <path class="color-background" d="M39.3,0.706666667 C38.9660984,0.370464027 38.5048767,0.192278529 38.0316667,0.216666667 C14.6516667,1.43666667 6.015,22.2633333 5.93166667,22.4733333 C5.68236407,23.0926189 5.82664679,23.8009159 6.29833333,24.2733333 L15.7266667,33.7016667 C16.2013871,34.1756798 16.9140329,34.3188658 17.535,34.065 C17.7433333,33.98 38.4583333,25.2466667 39.7816667,1.97666667 C39.8087196,1.50414529 39.6335979,1.04240574 39.3,0.706666667 Z M25.69,19.0233333 C24.7367525,19.9768687 23.3029475,20.2622391 22.0572426,19.7463614 C20.8115377,19.2304837 19.9992882,18.0149658 19.9992882,16.6666667 C19.9992882,15.3183676 20.8115377,14.1028496 22.0572426,13.5869719 C23.3029475,13.0710943 24.7367525,13.3564646 25.69,14.31 C26.9912731,15.6116662 26.9912731,17.7216672 25.69,19.0233333 L25.69,19.0233333 Z"></path>
                                  <path class="color-background" d="M1.855,31.4066667 C3.05106558,30.2024182 4.79973884,29.7296005 6.43969145,30.1670277 C8.07964407,30.6044549 9.36054508,31.8853559 9.7979723,33.5253085 C10.2353995,35.1652612 9.76258177,36.9139344 8.55833333,38.11 C6.70666667,39.9616667 0,40 0,40 C0,40 0,33.2566667 1.855,31.4066667 Z"></path>
                                  <path class="color-background" d="M17.2616667,3.90166667 C12.4943643,3.07192755 7.62174065,4.61673894 4.20333333,8.04166667 C3.31200265,8.94126033 2.53706177,9.94913142 1.89666667,11.0416667 C1.5109569,11.6966059 1.61721591,12.5295394 2.155,13.0666667 L5.47,16.3833333 C8.55036617,11.4946947 12.5559074,7.25476565 17.2616667,3.90166667 L17.2616667,3.90166667 Z" opacity="0.598539807"></path>
                                  <path class="color-background" d="M36.0983333,22.7383333 C36.9280725,27.5056357 35.3832611,32.3782594 31.9583333,35.7966667 C31.0587397,36.6879974 30.0508686,37.4629382 28.9583333,38.1033333 C28.3033941,38.4890431 27.4704606,38.3827841 26.9333333,37.845 L23.6166667,34.53 C28.5053053,31.4496338 32.7452344,27.4440926 36.0983333,22.7383333 L36.0983333,22.7383333 Z" opacity="0.598539807"></path>
                                </g>
                              </g>
                            </g>
                          </g>
                        </svg>
                      </div>
                      <p class="text-xs mt-1 mb-0 font-weight-bold">Joueurs</p>
                    </div>
                    <h4 class="font-weight-bolder" id="joueurs"></h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-90" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                  <div class="col-4 py-3 ps-0">
                    <div class="d-flex mb-2">
                      <div class="icon icon-shape icon-xxs shadow border-radius-sm bg-gradient-warning text-center me-2 d-flex align-items-center justify-content-center">
                        <svg width="10px" height="10px" viewBox="0 0 43 36" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                          <title>credit-card</title>
                          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(-2169.000000, -745.000000)" fill="#FFFFFF" fill-rule="nonzero">
                              <g transform="translate(1716.000000, 291.000000)">
                                <g transform="translate(453.000000, 454.000000)">
                                  <path class="color-background" d="M43,10.7482083 L43,3.58333333 C43,1.60354167 41.3964583,0 39.4166667,0 L3.58333333,0 C1.60354167,0 0,1.60354167 0,3.58333333 L0,10.7482083 L43,10.7482083 Z" opacity="0.593633743"></path>
                                  <path class="color-background" d="M0,16.125 L0,32.25 C0,34.2297917 1.60354167,35.8333333 3.58333333,35.8333333 L39.4166667,35.8333333 C41.3964583,35.8333333 43,34.2297917 43,32.25 L43,16.125 L0,16.125 Z M19.7083333,26.875 L7.16666667,26.875 L7.16666667,23.2916667 L19.7083333,23.2916667 L19.7083333,26.875 Z M35.8333333,26.875 L28.6666667,26.875 L28.6666667,23.2916667 L35.8333333,23.2916667 L35.8333333,26.875 Z"></path>
                                </g>
                              </g>
                            </g>
                          </g>
                        </svg>
                      </div>
                      <p class="text-xs mt-1 mb-0 font-weight-bold">Actualités</p>
                    </div>
                    <h4 class="font-weight-bolder" id="actu"></h4>
                    <div class="progress w-75">
                      <div class="progress-bar bg-dark w-30" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
              
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="card z-index-2">
            <div class="card-body p-8" id="container" style="position: static;">
            </div>
          </div>
        </div>
      </div>
      <div class="row my-4">
        <div class="col-lg-8 col-md-6 mb-md-0 mb-4">
          <div class="card">
            <div class="card-header pb-0">
              <div class="row">
                <div class="col-lg-6 col-7">
                  <h6>Informations sur les équipes</h6>
                  <p class="text-sm mb-0">
                    <i class="fa fa-check text-info" aria-hidden="true"></i>
                    <span class="font-weight-bold ms-1"></span>
                  </p>
                </div>
                <div class="col-lg-6 col-5 my-auto text-end">
                  <div class="dropdown float-lg-end pe-4">
                    <a class="cursor-pointer" id="dropdownTable" data-bs-toggle="dropdown" aria-expanded="false">
                      <i class="fa fa-ellipsis-v text-secondary"></i>
                    </a>
                    <ul class="dropdown-menu px-2 py-3 ms-sm-n4 ms-n5" aria-labelledby="dropdownTable">
                      <li><a class="dropdown-item border-radius-md" href="javascript:;">Action</a></li>
                      <li><a class="dropdown-item border-radius-md" href="javascript:;">Another action</a></li>
                      <li><a class="dropdown-item border-radius-md" href="javascript:;">Something else here</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body px-0 pb-2">
              <div class="table-responsive">
                <table id="tabel_CoverTrans_details" class="table table-bordered  table-hover js-basic-example dataTable " >
                  <thead class="thead-dark" style="font-weight: bold;">
                      <th>#</th>
                      <th>Club</th> 
                      <th>Joueurs</th>
                      <th>Coach en chef</th>
                      <th>Adjoint-Coach</th>
                      <th>Sélection nationale</th>
                
                  
                  </thead>
                  <span>
                        <tbody id="tbody1">
                  </tbody></span>
                
                </table>
              </div>
            </div>
          </div>
        </div>
      
       
      </div>
    </div>
  </main>

  <!--   Core JS Files   -->
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap.min.js"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/smooth-scrollbar.min.js"></script>
  <script src="../assets/js/plugins/chartjs.min.js"></script>
  <script>
    var ctx = document.getElementById("chart-bars").getContext("2d");

    new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
          label: "Sales",
          tension: 0.4,
          borderWidth: 0,
          borderRadius: 4,
          borderSkipped: false,
          backgroundColor: "#fff",
          data: [450, 200, 100, 220, 500, 100, 400, 230, 500],
          maxBarThickness: 6
        }, ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false,
          }
        },
        interaction: {
          intersect: false,
          mode: 'index',
        },
        scales: {
          y: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false,
            },
            ticks: {
              suggestedMin: 0,
              suggestedMax: 500,
              beginAtZero: true,
              padding: 15,
              font: {
                size: 14,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
              color: "#fff"
            },
          },
          x: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false
            },
            ticks: {
              display: false
            },
          },
        },
      },
    });


    var ctx2 = document.getElementById("chart-line").getContext("2d");

    var gradientStroke1 = ctx2.createLinearGradient(0, 230, 0, 50);

    gradientStroke1.addColorStop(1, 'rgba(203,12,159,0.2)');
    gradientStroke1.addColorStop(0.2, 'rgba(72,72,176,0.0)');
    gradientStroke1.addColorStop(0, 'rgba(203,12,159,0)'); //purple colors

    var gradientStroke2 = ctx2.createLinearGradient(0, 230, 0, 50);

    gradientStroke2.addColorStop(1, 'rgba(20,23,39,0.2)');
    gradientStroke2.addColorStop(0.2, 'rgba(72,72,176,0.0)');
    gradientStroke2.addColorStop(0, 'rgba(20,23,39,0)'); //purple colors

    new Chart(ctx2, {
      type: "line",
      data: {
        labels: ["Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        datasets: [{
            label: "Mobile apps",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#cb0c9f",
            borderWidth: 3,
            backgroundColor: gradientStroke1,
            fill: true,
            data: [50, 40, 300, 220, 500, 250, 400, 230, 500],
            maxBarThickness: 6

          },
          {
            label: "Websites",
            tension: 0.4,
            borderWidth: 0,
            pointRadius: 0,
            borderColor: "#3A416F",
            borderWidth: 3,
            backgroundColor: gradientStroke2,
            fill: true,
            data: [30, 90, 40, 140, 290, 290, 340, 230, 400],
            maxBarThickness: 6
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false,
          }
        },
        interaction: {
          intersect: false,
          mode: 'index',
        },
        scales: {
          y: {
            grid: {
              drawBorder: false,
              display: true,
              drawOnChartArea: true,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              padding: 10,
              color: '#b2b9bf',
              font: {
                size: 11,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
          x: {
            grid: {
              drawBorder: false,
              display: false,
              drawOnChartArea: false,
              drawTicks: false,
              borderDash: [5, 5]
            },
            ticks: {
              display: true,
              color: '#b2b9bf',
              padding: 20,
              font: {
                size: 11,
                family: "Open Sans",
                style: 'normal',
                lineHeight: 2
              },
            }
          },
        },
      },
    });
  </script>
  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
  <!-- Github buttons -->

  <script type="module">
  
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
   import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-analytics.js";
 
   const firebaseConfig = {
     apiKey: "AIzaSyAVpkaI_1x5d4ItI4kaiN2xOxPmXH_wjnE",
     authDomain: "yatosama-demo.firebaseapp.com",
     databaseURL: "https://yatosama-demo-default-rtdb.europe-west1.firebasedatabase.app",
     projectId: "yatosama-demo",
     storageBucket: "yatosama-demo.appspot.com",
     messagingSenderId: "440036821979",
     appId: "1:440036821979:web:0436e491278d04d78375fe",
     measurementId: "G-4XHSQ4HZXZ"
   };
 
   // Initialize Firebase
   const app = initializeApp(firebaseConfig);
   const analytics = getAnalytics(app);
 
   import{
       getFirestore, doc, onSnapshot, getDoc, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField, query, where , getDocs, orderBy, limit
   }
   from "https://www.gstatic.com/firebasejs/9.6.8/firebase-firestore.js";
   import{
        getStorage, ref as sRef, uploadBytesResumable, getDownloadURL  }
   from "https://www.gstatic.com/firebasejs/9.6.8/firebase-storage.js";
   import { getAuth, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-auth.js";
 
  const db = getFirestore();
 //------------------------------------------------//
 
 
 var clubnom = document.getElementById('clubbox');
 var clubcl = document.getElementById('clubbox2');
 var fond = document.getElementById('fondbox');
 var defaites = document.getElementById('defaitesbox');
 var entraineur = document.getElementById('entraineurbox');
 var nom = document.getElementById('nombox');
 var president = document.getElementById('presidentbox');
 var victoires = document.getElementById('victoiresbox');
 var pp = document.getElementById('ppbox');
 var pa = document.getElementById('pabox');
 var pc = document.getElementById('pcbox');
 var ville = document.getElementById('villebox');
 var clubnom2 = document.getElementById('club');
 var fond2 = document.getElementById('fond');
 var entraineur2 = document.getElementById('entraineur');
 var nom2 = document.getElementById('nom');
 var president2 = document.getElementById('president');
 var ville2 = document.getElementById('ville');
 var save = document.getElementById('save');
 var savecl = document.getElementById('savecl');
 var drop = document.getElementById('drop');
 var searchbox = document.getElementById('searchbox');
 const search = document.getElementById('search');
 var searchboxx = document.getElementById('searchboxx');
 const searchx = document.getElementById('searchx');
 var cle = document.getElementById('index');
 var cle2 = document.getElementById('indexx');
 var clubnames = [];
 var clubclass = [];
 const tBody = document.getElementById('tbody1');
 const tBody2 = document.getElementById('tbody2');
 const tBody3 = document.getElementById('tbody3');
 const ref = collection(db, "Equipe");
 var cmp =0;
 var cmp1 =0;
 var cmp2 =0;
 //--------------------filling table-----------------------//
 
var matchs =0;
var matchsP =0;
var matchsT =0;
var matchsPA =0;
let ents =[];
let cllubs =[];
let jous=[];



const q15 = collection(db, "Entraineur");
 const querySnapshot15 = await getDocs(q15);
 querySnapshot15.forEach(doc => {
  let ent ={
 "Club": `${doc.data()["Club"]}`,
 "DN": `${doc.data()["DN"]}`,
 "Fonction": `${doc.data()["Fonction"]}`,
 "ID": `${doc.data()["ID"]}`,
 "LN":`${doc.data()["LN"]}`,
 "Nom":`${doc.data()["Nom"]}`,
 "Prenom":`${doc.data()["Prenom"]}`,
}
ents.push(ent);
   
   }, error => {
     console.log(error.message);
   }
   );


   const q12 = collection(db, "Joueur");
 const querySnapshot12 = await getDocs(q12);
 querySnapshot12.forEach(doc => {
  let jou ={
 "Club": `${doc.data()["Club"]}`,
 "Date":`${doc.data()["Date de naissance"]}`,
 "isSelected":`${doc.data()["isSelected"]}`
}
jous.push(jou);
   
   }, error => {
     console.log(error.message);
   }
   );

   const y = collection(db, "Equipe");
 const yy = await getDocs(y);
 yy.forEach(doc => {
  let club ={
 "Club": `${doc.data()["Club"]}`,
 "Date": `${doc.data()["Date de fondation"]}`,
 "Nom": `${doc.data()["Nom"]}`,
 "Président": `${doc.data()["Président"]}`,
 "Défaites":`${doc.data()["Défaites"]}`,
 "PA":`${doc.data()["PA"]}`,
 "PC":`${doc.data()["PC"]}`,
 "PP":`${doc.data()["PP"]}`,
 "Victoires":`${doc.data()["Victoires"]}`,
 "Salle":`${doc.data()["Salle"]}`,
 "id":`${doc.id}`
}
cllubs.push(club);
   
   }, error => {
     console.log(error.message);
   }
   );


   cllubs.forEach((doc,index) => {
   var testRowIndex = clubnames.push([doc.Club,doc.Date,doc.Défaites,doc.Nom,doc.Président,doc.Victoires,doc.Salle]) -1 ;
    var row = document.createElement("tr");
  
   let clubac = ents.filter(ent => ent.Club === doc.Club && ent.Fonction === "AC");
   let clubhc = ents.filter(ent => ent.Club === doc.Club && ent.Fonction === "HC");
   let nmbjou = jous.filter(jou => jou.Club === doc.Club);
   let sele = jous.filter(jou => jou.Club === doc.Club && jou.isSelected === "true");
   

   var cell1 = document.createElement("td");
   var cell1Text = document.createTextNode((++cmp));
   cell1.appendChild(cell1Text);
 
   var cell2 = document.createElement("td");
   var cell2Text = document.createTextNode(doc.Club);
   cell2.appendChild(cell2Text);
 
   var cell3 = document.createElement("td");
   var cell3Text = document.createTextNode(`${nmbjou.length}`);
   cell3.appendChild(cell3Text);

   var cell5 = document.createElement("td");
   var cell5Text = document.createTextNode(`${clubac[0].Nom} ${clubac[0].Prenom}`);
   cell5.appendChild(cell5Text);
   var cell05 = document.createElement("td");
   var cell05Text = document.createTextNode(`${clubhc[0].Nom} ${clubhc[0].Prenom}`);
   cell05.appendChild(cell05Text);
  
   var cell6 = document.createElement("td");
   var cell6Text = document.createTextNode(sele.length);
   cell6.appendChild(cell6Text);
 

 
   row.appendChild(cell1);
   row.appendChild(cell2);
   row.appendChild(cell3);
   row.appendChild(cell05);
   row.appendChild(cell5);
   row.appendChild(cell6);
  

   

 
   tBody.appendChild(row); 
   
   }, error => {
     console.log(error.message);
   }
   );


























function getAge(dateString) {
    var dateString = dateString; // Oct 23

    var dateParts = dateString.split("/");

    // month is 0-based, that's why we need dataParts[1] - 1
    var dateObject = new Date(+dateParts[2], dateParts[1] - 1, +dateParts[0]); 

    var ageInMilliseconds = Math.abs(new Date() - dateObject);

    return Math.floor(ageInMilliseconds/1000/60/60/24/365); // convert to years
}










































var content = '';
 const q11 = collection(db, "Joueur");
 const querySnapshot11 = await getDocs(q11);








const q9 = collection(db, "Entraineur");
 const querySnapshot9 = await getDocs(q9);









 //-------------------------table consulter---------------------------//
 //--------------------------table modifier-----------------------------//
const q3 = collection(db, "Match");
 const querySnapshot3 = await getDocs(q3);
 querySnapshot3.forEach(doc => {
++matchs;
if (doc.data()["Joué"] == true) {
  ++matchsT;
}else{
  ++matchsP;
}
if (new Date()==new Date(doc.data()["Date"])) {
  ++matchsPA;
}
   
   }, error => {
     console.log(error.message);
   }
   );
   var matchss = document.getElementById('matchs');
   matchss.innerHTML = matchs;
   var matchst = document.getElementById('matcht');
   matchst.innerHTML = matchsT;
   var matchp = document.getElementById('matchp');
   matchp.innerHTML = matchsP;
   var matchpa = document.getElementById('matchpa');
   matchpa.innerHTML = matchsPA;

 //-----------------------------------------------Consulter Classment------------------------------------//
 
//----------------------filling modal--------------//
  const q4 = collection(db, "Joueur");
 const querySnapshot4 = await getDocs(q4);
var one=0,two=0,
three=0;

 querySnapshot4.forEach(doc => {
if (18<getAge(doc.data()["Date de naissance"])&& getAge(doc.data()["Date de naissance"])<24) {
  ++one;
}
if (25<getAge(doc.data()["Date de naissance"])&& getAge(doc.data()["Date de naissance"])<33) {
  ++two;
}
if (34<getAge(doc.data()["Date de naissance"])&& getAge(doc.data()["Date de naissance"])<43) {
  ++three;
}
   
   }, error => {
     console.log(error.message);
   }
   );

anychart.onDocumentReady(function() {

// set the data
var data = [
    {x: "Entre 18 et 24 ans", value: one},
    {x: "Entre 25 et 33 ans", value: two},
    {x: "Entre 34 et 43 ans", value: three},

];

// create the chart
var chart = anychart.pie();



// set the chart title
chart.title("Moyenne d'âge des joueurs");

// add the data
chart.data(data);

// display the chart in the container
chart.container('container');
// set legend position
chart.legend().position("right");
// set items layout
chart.legend().itemsLayout("vertical");


chart.draw();

});





//----------------------Update fuction---------------------//
const q5 = collection(db, "Equipe");
 const querySnapshot5 = await getDocs(q5);
 var nmbr=0;
 querySnapshot5.forEach(doc => {
++nmbr;
   
   }, error => {
     console.log(error.message);
   }
   );
   var utili = document.getElementById('utili');
   utili.innerHTML = nmbr;
   const q6 = collection(db, "Joueur");
 const querySnapshot6 = await getDocs(q6);
 var nmbr1=0;
 querySnapshot6.forEach(doc => {
++nmbr1;
   
   }, error => {
     console.log(error.message);
   }
   );
   var joueurs = document.getElementById('joueurs');
   joueurs.innerHTML = nmbr1;

   const q7 = collection(db, "Actualités");
 const querySnapshot7 = await getDocs(q7);
 var nmbr2=0;
 querySnapshot7.forEach(doc => {
++nmbr2;
   
   }, error => {
     console.log(error.message);
   }
   );
   var actu = document.getElementById('actu');
   actu.innerHTML = nmbr2;


//-------------------delete function---------------------//


/*-----------------------------------------------*/


//-------------------Add function----------------//







</script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/soft-ui-dashboard.min.js?v=1.0.5"></script>
</body>

</html>